{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block nav-v-tags %}
{% endblock nav-v-tags %}
{% block nav-tags %}
{% endblock nav-tags %}

{% block body %}
<div class="section">
  <div class="container">
    <div id="profile-edit" class="card" data-url="{{ profile.get_absolute_url }}">
      <input id="js-background-field" type="file" name="background" accept=".jpg, .jpeg, .png">

      <form id="js-avatar-form">
        <input id="js-avatar-field" type="file" name="avatar" accept=".jpg, .jpeg, .png">
      </form>
      <div id="profile-bg" style="background:url({{ profile.background.url }}) no-repeat center;background-size:cover">
      </div>

      <div id="profile-info" class="pl--l pr--l pb--l rel">

        <div id="avatar-wrapper">
          <img id="avatar" src="{{ profile.avatar.url }}">
          <div id="js-avatar-mask" class="flex flex--center abs abs--zero cursor--p bd-radius--50p">
            <span class="fa fa-camera fa-2x" aria-hidden="true"></span>
          </div>
        </div>
        <form id="js-form">
          {% csrf_token %}
          <div class="input-wrapper mb--m">
            <label for="{{ form.credential.id_for_label }}" class="mb--s bold">{{ form.credential.label }}</label>
            {{ form.credential|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Credential" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.description.id_for_label }}" class="mb--s bold">{{ form.description.label }}</label>
            {{ form.description|attr:"id:js-textarea"|attr:"placeholder:Description"|add_class:"w--100p focus--disabled pd--s bd" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.gender.id_for_label }}" class="mb--s bold">{{ form.gender.label }}</label>
            {{ form.gender|add_class:"w--100p focus--disabled pd--s bd"  }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.industry.id_for_label }}" class="mb--s bold">{{ form.industry.label }}</label>
            {{ form.industry|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Industry" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.position.id_for_label }}" class="mb--s bold">{{ form.position.label }}</label>
            {{ form.position|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Position" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.company.id_for_label }}" class="mb--s bold">{{ form.company.label }}</label>
            {{ form.company|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Company" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.school.id_for_label }}" class="mb--s bold">{{ form.school.label }}</label>
            {{ form.school|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:School" }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.concentration.id_for_label }}" class="mb--s bold">{{ form.concentration.label }}</label>
            {{ form.concentration|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Concentration"  }}
          </div>
          <div class="input-wrapper mb--m">
            <label for="{{ form.location.id_for_label }}" class="mb--s bold">{{ form.location.label }}</label>
            {{ form.location|add_class:"w--100p focus--disabled pd--s bd"|attr:"placeholder:Location" }}
          </div>
          <button type="submit" id="js-submit" class="button button--primary transparent">Update</button>
        </form>
      </div>



        <!-- <form class="hidden">
          {{ avatar_form.avatar|attr:"id:js-avatar-field" }}
        </form> -->


          <!-- {% if request.user == profile.user %}
          <div id="avatar-mask" class="flex flex--center">
            <span class="fa fa-camera fa-lg" aria-hidden="true"></span>
          </div>
          {% endif %} -->




      </div>
    </div>
  </div>
</div>
{% endblock body %}

{% block js %}
{% include "profile_avatar_modal.html" %}
{% include "profile_background_modal.html" %}
<script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>
<script src="{% static "js/profile_edit.js" %}"></script>
{% endblock js %}
