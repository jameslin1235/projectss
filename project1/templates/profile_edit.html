
{% load widget_tweaks %}
<div class="container profile-form">
  <div class="row" >
    <div class="col-md-12">
      <div class="card">

        <div class="card__background">
          <button type="button" class="button button--editbackground js-edit-background">Edit background</button>

          <img src="{{ user.profile.background.url }}" class="img-responsive profile-background" alt="Responsive image">

          <div class="card__hiddenform">
            <form method="post" enctype="multipart/form-data" class="js-submit-profile-background-form" action="/profile/edit/">
              {% csrf_token %}
              {{ profilebackgroundform.background }}
              <button type="submit" class="button js-submit-profile-background-form-button">Save</button>
            </form >
          </div>
        </div>

        <div class="card__body">
          <div class="card__avatar">
            <img src="{{ user.profile.avatar.url }}" class="img-responsive Avatar Avatar-large" alt="Responsive image">
            <div class="card__hiddenform">
              <form method="post" enctype="multipart/form-data" class="js-submit-profile-avatar-form" action="/profile/edit/">
                {% csrf_token %}
                {{ profileavatarform.avatar }}
                <button type="submit" class="button button--blue button--primary">Save</button>
              </form >
            </div>
          </div>

          <div class="card__content">
            <div class="card__contentheader">
              <h1>{{user.username}}</h1>
              <button type="button" class="button button-plain js-get-profile" data-url="{{ current_user_profile_url }}">Back to Profile<span class="glyphicon glyphicon-menu-right Icon Icon-right" aria-hidden="true"></span></button>
            </div>

            <div class="card__form">
              <form method="post" class="js-submit-profile-form" action="/profile/edit/">
                {% csrf_token %}

                <div class="card__formfield">
                  {{ profileform.profile_gender.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_gender.id_for_label }}">{{ profileform.profile_gender.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldnontextinput">
                      {{ profileform.profile_gender }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_credential.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_credential.id_for_label }}">{{ profileform.profile_credential.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_credential|add_class:"js-add-focus"|attr:"placeholder:Credential"  }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_description.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_description.id_for_label }}">{{ profileform.profile_description.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_description|attr:"rows:3"|attr:"cols:20"|add_class:"js-add-focus"|attr:"placeholder:Description" }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_residence.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_residence.id_for_label }}">{{ profileform.profile_residence.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldnontextinput">
                      {{ profileform.profile_residence }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_occupation.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_occupation.id_for_label }}">{{ profileform.profile_occupation.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldnontextinput">
                      {{ profileform.profile_occupation }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_position.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_position.id_for_label }}">{{ profileform.profile_position.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_position|add_class:"js-add-focus"|attr:"placeholder:Position" }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_company.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_company.id_for_label }}">{{ profileform.profile_company.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_company|add_class:"js-add-focus"|attr:"placeholder:Company" }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield">
                  {{ profileform.profile_school.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_school.id_for_label }}">{{ profileform.profile_school.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_school|add_class:"js-add-focus"|attr:"placeholder:School" }}
                    </div>
                  </div>
                </div>

                <div class="card__formfield card__formfield--last">
                  {{ profileform.profile_major.errors }}
                  <div class="card__formfieldlabel">
                    <label for="{{ profileform.profile_major.id_for_label }}">{{ profileform.profile_major.label }}</label>
                  </div>
                  <div class="card__formfieldvalue">
                    <div class="card__formfieldtextinput">
                      {{ profileform.profile_major|add_class:"js-add-focus"|attr:"placeholder:Major" }}
                    </div>
                  </div>
                </div>

                <button type="submit" class="button button--blue button--primary">Save</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
