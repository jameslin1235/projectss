{% load widget_tweaks %}
{% load custom_tags %}
<div class="List" >
  <div class="List-header">
    <h4 class="List-header-title"><span>{{posts_count}}</span> Posts</h4>
    <div class="List-header-options">nnn</div>
  </div>
  <!-- <div class="page-header list-header"> -->
    <!-- <h4 class="list-header-text"><span>{{posts_count}}</span> {{ title }}</h4> -->


    <!-- <div class="list_header_options">
      <select id="profile_posts_select">
        <option class="filter_button" value="1" selected="selected">By date created</option>
        <option class="filter_button" value="2">By date edited</option>
        <option class="filter_button" value="3">By date published</option>
        <option class="filter_button" value="4">By likes</option>
        <option class="filter_button" value="5">By dislikes</option>
        <option class="filter_button" value="6">By comments</option>

      </select>
    </div> -->

  <!-- <div>
    <a id="yes" class="btn btn-primary" href="{% url 'posts:post_create' %}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Write</a>
  </div> -->

  {% if no_posts %}
  <div class="List-reminder">
    <p>There are no posts.</p>
  </div>

  {% else %}
  <div>

    {% for post in current_page %}
    <div class="List-item {% if forloop.last %}List-item-last{% endif %}">
      <div class="ContentItem" data-url="{{post.get_absolute_url}}">
        <div class="ContentItem-header">
          <h2 class="ContentItem-header-title"><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
        </div>
        <div class="ContentItem-meta">
            <div class="ContentItem-meta-profile">
              <a href="{% url 'profiles:profile_activity' id=user.profile.id slug=user.profile.slug %}">
                <img class="ContentItem-meta-avatar" src="{{user.profile.avatar.url}}">
              </a>
            </div>

            <div class="ContentItem-meta-user">
              <div class="ContentItem-meta-username">
                <span><a href="{% url 'profiles:profile_activity' id=user.profile.id slug=user.profile.slug %}">{{user.username }}</a></span>
              </div>
              <div class="ContentItem-meta-userinfo">
                <span >banking</span>
              </div>
            </div>

          </div>
        </div>
        <div class="ContentItem-likers">
          <button type="button" class="btn btn-plain btn-ContentItem-likers-count"><span class="ContentItem-likers-count">{{post.likes}} people liked this post.</span></button>
        </div>
        <div class="ContentItem-content">
          <div><p>{{ post.content }}</p></div>
          <div class="ContentItem-time"><a href="{{ post.get_absolute_url }}">Published {{ post.date_published }}</a></div>
        </div>
        <div class="ContentItem-actions">
          <button type="button" class="btn btn-vote btn-like {% if user_posts_like_status|index:forloop.counter0 == "Liked" %}active{% endif %}"  {% if like_dislike_buttons_status|index:forloop.counter0 == "Disabled" %}disabled="disabled"{% endif %} }><span class="glyphicon glyphicon-thumbs-up Icon" aria-hidden="true"></span> <span class="ContentItem-actions-likers-count">{{ post.likes }}</span></button>
          <button type="button" class="btn btn-vote btn-dislike {% if user_posts_dislike_status|index:forloop.counter0 == "Disliked" %}active{% endif %}" {% if like_dislike_buttons_status|index:forloop.counter0 == "Disabled" %}disabled="disabled"{% endif %} ><span class="glyphicon glyphicon-thumbs-down Icon" aria-hidden="true"></span> <span class="ContentItem-actions-dislikers-count">{{ post.dislikes }}</span></button>
          <button type="button" class="btn btn-plain ContentItem-action comment-button"><span class="glyphicon glyphicon-comment Icon" aria-hidden="true"></span> <span class="ContentItem-actions-comments-count">{{ posts_comments_count|index:forloop.counter0 }}</span></button>
          <button type="button" class="btn btn-plain ContentItem-action" ><span class="glyphicon glyphicon-share Icon" aria-hidden="true"></span> Share</button>
          <button type="button" class="btn btn-plain ContentItem-action  bookmark-button"><span class="glyphicon glyphicon-bookmark Icon" aria-hidden="true"></span> Bookmark</button>
        </div>
      </div>

    {% endfor %}


      {% if is_pagination %}
      <div class="Pagination">
        {% if current_page.has_previous %}
        <button type="button" class="btn btn-plain btn-pagination" data-url="{{post.get_absolute_url}}comments/?page={{ current_page.previous_page_number }}">Prev</button>
        {% endif %}

        {% for i in page_num %}
        {% if i == current_page.number %}
        <button type="button" class="btn btn-plain btn-pagination-disabled">{{ i }}</button>
        {% elif i == -1 %}
        <button type="button" class="btn btn-plain btn-pagination-more">..</button>
        {% else %}
        <button type="button" class="btn btn-plain btn-pagination" data-url="{{post.get_absolute_url}}comments/?page={{ i }}">{{ i }}</button>
        {% endif %}
        {% endfor %}

        {% if current_page.has_next %}
        <button type="button" class="btn btn-plain btn-pagination" data-url="{{post.get_absolute_url}}comments/?page={{ current_page.next_page_number }}">Next</button>
        {% endif %}
      </div>
      {% endif %}





  </div>

  {% endif %}
</div>
